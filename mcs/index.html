
<!DOCTYPE html>
<html lang="de-DE"><head>
    <meta charset="utf-8"/>
<link rel="dns-prefetch preconnect" href="https://u.jimcdn.com/" crossorigin="anonymous"/>
<link rel="dns-prefetch preconnect" href="https://assets.jimstatic.com/" crossorigin="anonymous"/>
<link rel="dns-prefetch preconnect" href="https://image.jimcdn.com" crossorigin="anonymous"/>
<link rel="dns-prefetch preconnect" href="https://fonts.googleapis.com" crossorigin="anonymous"/>
<link rel="dns-prefetch preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/>
<link rel="dns-prefetch preconnect" href="https://www.google-analytics.com" crossorigin="anonymous"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="description" content=""/>
<meta name="robots" content="index, follow, archive"/>
<meta property="st:section" content=""/>

    <style>html,body{margin:0}.hidden{display:none}.n{padding:5px}#cc-website-title a {text-decoration: none}.cc-m-image-align-1{text-align:left}.cc-m-image-align-2{text-align:right}.cc-m-image-align-3{text-align:center}</style>


        <link href="https://u.jimcdn.com/cms/o/s1ee9bc4c878f2f5f/layout/dm_e9e3c1d94891f250a819b808d317c84d/css/layout.css?t=1504908401" rel="stylesheet" type="text/css" id="jimdo_layout_css"/>
<script>     /* <![CDATA[ */     /*!  loadCss [c]2014 @scottjehl, Filament Group, Inc.  Licensed MIT */     window.loadCSS = window.loadCss = function(e,n,t){var r,l=window.document,a=l.createElement("link");if(n)r=n;else{var i=(l.body||l.getElementsByTagName("head")[0]).childNodes;r=i[i.length-1]}var o=l.styleSheets;a.rel="stylesheet",a.href=e,a.media="only x",r.parentNode.insertBefore(a,n?r:r.nextSibling);var d=function(e){for(var n=a.href,t=o.length;t--;)if(o[t].href===n)return e.call(a);setTimeout(function(){d(e)})};return a.onloadcssdefined=d,d(function(){a.media=t||"all"}),a};     window.onloadCSS = function(n,o){n.onload=function(){n.onload=null,o&&o.call(n)},"isApplicationInstalled"in navigator&&"onloadcssdefined"in n&&n.onloadcssdefined(o)}     /* ]]> */ </script>     <script>
// <![CDATA[
onloadCSS(loadCss('https://assets.jimstatic.com/web.css.9fad5b0c543c21ea76422751507d7453.css') , function() {
    this.id = 'jimdo_web_css';
});
// ]]>
</script>
<link href="https://assets.jimstatic.com/web.css.9fad5b0c543c21ea76422751507d7453.css" rel="preload" as="style"/>
<noscript>
<link href="https://assets.jimstatic.com/web.css.9fad5b0c543c21ea76422751507d7453.css" rel="stylesheet"/>
</noscript>

    

<style type="text/css">
/*<![CDATA[*/
    /* Kopf-Bereich */
    .jtpl-header__logo-title-area {
        min-height: 20px;
        padding:  10px;
    }
    .jtpl-header {
        border-bottom: 0px;
    }

 
    .jtpl-content {
        width: 75%; 
    } 
    .jtpl-sidebar {
        width: 22%;
    }
/*]]>*/

</style>

 <title>Risk Analyzer</title>   
</head>

<body class="body cc-page j-has-shop j-m-gallery-styles j-m-video-styles j-m-hr-styles j-m-header-styles j-m-text-styles j-m-emotionheader-styles j-m-htmlCode-styles j-m-rss-styles j-m-form-styles-disabled j-m-table-styles j-m-textWithImage-styles j-m-downloadDocument-styles j-m-imageSubtitle-styles j-m-flickr-styles j-m-googlemaps-styles j-m-blogSelection-styles-disabled j-m-comment-styles j-m-jimdo-styles j-m-profile-styles j-m-guestbook-styles-disabled j-m-promotion-styles j-m-twitter-styles j-m-hgrid-styles j-m-shoppingcart-styles j-m-catalog-styles j-m-product-styles-disabled j-m-facebook-styles j-m-sharebuttons-styles j-m-formnew-styles-disabled j-m-callToAction-styles j-m-turbo-styles j-m-spacing-styles j-m-googleplus-styles j-m-dummy-styles j-m-search-styles j-footer-styles cc-pagemode-default cc-content-parent" >

<div id="cc-inner" class="cc-content-parent">
<input type="checkbox" id="jtpl-navigation__checkbox" class="jtpl-navigation__checkbox"/><!-- _main.sass --><div class="jtpl-main cc-content-parent">

  <!-- _background-area.sass -->
  <div style="background-image: url('marblea.png');"  class="jtpl-background-area" background-area="fullscreen"></div>
  <!-- END _background-area.sass -->

 

  <!-- _section-main.sass -->
  <div  class="jtpl-section-main content-options-box cc-content-parent">

    <div class="jtpl-sidebar-content__container cc-content-parent">

      <div class="jtpl-content content-options-inner cc-content-parent">
        <div id="content_area" data-container="content"><div id="content_start"></div>
        
        <div id="cc-matrix-1657565981"><div id="cc-m-6999791881" class="j-module n j-header "><h2 class="" id="cc-m-header-6999791881">Theta-Digital Risk Analyzer</h2>
            <a target="_blank" href="https://www.investopedia.com/terms/m/montecarlosimulation.asp">based on a computational method, not VAR (monte carlo simulation)</a></div>
        <div id="cc-m-6999792081" class="j-module n j-text ">
<p style="text-align: justify;">
  <span style="font-size: 20px;"> </span>
</p></div><div id="cc-m-6999792681" class="j-module n j-htmlCode "><script type="text/javascript">
//<![CDATA[
<!--- Parameter-Konfigurationen -->
var max_iterationen = 100; // Anzahl der zu rechnenden Iterationen
<!-------------------------------->


var calc=0;

var emptyCanvas = -1; document.getElementById("portfolioChartDiv").innerHTML;

function drawPortfolioDaten(portfolioVerlauf, iterations) {

      var data = new google.visualization.DataTable();
      data.addColumn('number', 'X');
          
          for (var i=1; i <= iterations; i++) { data.addColumn('number', 'Iteration '+i); }
      

      data.addRows(portfolioVerlauf);
          /* [
        [0, 0, 1],   [1, 10, 11],  [2, 23, 21],  [3, 17, 16],  [4, 18, 17],  [5, 9, 10]
        
      ]); */


      var options = {
        hAxis: {
          title: 'Periode'
        },
        vAxis: {
          title: 'Portfolio'
        },
                dataOpacity: 0.2
      };

      var chart = new google.visualization.LineChart(document.getElementById('chart_drawdown'));

      chart.draw(data, options);
    }

function drawPortfolioDaten2(portfolioVerlauf, iterations) {
        if ( calc == 1 ) return;        
        calc = 1;
        
        // Speichere die Canvas beim ersten Mal in eine Variable
        if ( emptyCanvas == -1 ) {
                emptyCanvas =  document.getElementById("portfolioChartDiv").innerHTML;
        }
                
        
        var alpha = 15.0*(1.0/iterations); // Transparenz wird durch die Anzahl der Iterationen festgelegt.
        var linecolor = 'rgba(40,96,144,'+alpha+')';
                
        document.getElementById("portfolioChartDiv").innerHTML = emptyCanvas; // Setze neue Canvas, damit nicht mehrere Charts in der selben Canvas liegen
        var ctx = document.getElementById("portfolioChart").getContext('2d');   
        
        var allDatasets = [];
        
        for (var i = 0; i < portfolioVerlauf.length; i++) {
                allDatasets.push( 
                        {
                                pointRadius: 0, 
                                fill: false,
                                borderColor: linecolor,

                                data: portfolioVerlauf[i] 
                        }  
                );                      
        }
        var allLabels = [];
        for (var j = 0; j < portfolioVerlauf[0].length; j++) {
                allLabels.push(j);
        }
        
        // Durchschnittslinie
        // Erzeuge Durchschnittslinie
        var avgLine = [];
        for (j = 0; j < portfolioVerlauf[0].length; j++) {
                var sum = 0.0;
                for (i = 0; i < portfolioVerlauf.length; i++) {
                        sum += portfolioVerlauf[i][j];
                }
                var avg = sum / portfolioVerlauf.length;
                avgLine.push(avg);              
        }
        // Ende Erzeugung Durchschnittslinie
        
        allDatasets.push( 
                {
                        pointRadius: 0, 
                        fill: false,
                        borderColor: 'rgba(0,0,0,1)',

                        data: avgLine
                }  
        );                              
        // Ende Durchschnittslinie
        
        
        var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                        labels: allLabels,
                        datasets: allDatasets
                },
                options: {
                        pointBorderWidth: 0,
                        legend: {
                                display: false                  
                        },
                        /* scale: {
                                ticks: {
                                        stepSize: 100
                                }
                        }, */
                        scales: {
                                yAxes: [{
                                        ticks: {
                                                beginAtZero:false                                        
                                        }
                                }]                              
                        }
                        
                }
        });
        
        calc = 0;
}

/* Berechne Min, Avg, Max eines Arrays von Zahlen */
function calcMinAvgMax(anArray) {
        var min = 9999999999999999;
        var max = 0;
        var sum = 0;
        
        for (i=0; i < anArray.length; i++) {
                sum += anArray[i];
                min = Math.min( min, anArray[i] );
                max = Math.max( max, anArray[i] );              
        }
        
        var avg = sum / anArray.length;
        
        return {
                min: min,
                avg: avg,
                max: max
        }       
}

function formatNumber(n) {
        return ((Math.round(n*10)/10)).toFixed(1); // "10.80"
}
        
function PortfolioSimulation(form)
{       
        // document.getElementById("portfolioChart").innerHTML = "simuliere Portfolio....";
        
        // Übernehme Werte aus Formular
        var Startkapital                                = parseFloat(form.Startkapital.value, 10);
        var GewinnWahrscheinlichkeit    = parseFloat(form.GewinnWahrscheinlichkeit.value, 10);
        var GewinnVerlustRatio                  = parseFloat(form.GewinnVerlustRatio.value, 10);
        var periods                                             = parseFloat(form.Periods.value, 10);
        var RiskierterEinsatz                   = parseFloat(form.RiskierterEinsatz.value, 10);
        var totalausfallSchwelle                = parseFloat(form.TotalausfallSchwelle.value, 10);
        
        var PeriodenDaten                               = []; // für Google Charts ist das Array wie folgt aufgebaut: [ [x, y1, y2, ....], [x, y1, y2, ....] ] d.h. alle Portfolio-Verläufe jeder Iteration müssen mittels Push an die jeweilge Perioden-ID angehängt werden
        var PeriodenDatenChart                  = []; // für Chart.js ist das Array wie folgt aufgebaut: [ [y1, y1, y1, ...], [y2, y2, ...]]
        
        var Gewinnserien                                = []; // Pro Iteration Anzahl der längsten Gewinnserie
        var Verlustserien                               = []; // Pro Iteration Anzahl der längsten Verlustserie
        var Drawdowns                                   = []; // Pro Iteration maximaler Drawdown
        var Performance                                 = []; // Pro Iteration Performance
        
        // initalisiere Array
        for (j=0; j <= periods; j++) { PeriodenDaten[j] = []; PeriodenDaten[j].push(j); }
        
        var th2 =0;
        
        // Simulation
        for (i=1; i <= max_iterationen; i++)
        {
                // ------------------------------------------
                // ----- Beginn eines Simulationslaufes -----
                // ------------------------------------------
                var kapital=Startkapital;
                                
                PeriodenDaten[0].push(kapital);
                
                var periodenDatenChart = [];
                var stopTrading = false;
                
                var highWatermark = kapital;
                var drawDown = 0.0;
                var GewinnSerie = 0;
                var maxGewinnSerie = 0;
                var VerlustSerie = 0;
                var maxVerlustSerie = 0;
                var letzteBewegung = 0;
                var aktuelleBewegung = 0;
                
                for (j=1; j<=periods; j++)
                {
                        if (stopTrading == false) {
                                if (Math.random() < ( GewinnWahrscheinlichkeit / 100) )
                                {
                                        kapital += kapital * RiskierterEinsatz * GewinnVerlustRatio * (0.8 + (Math.random()/2.5) ) / 100; // Schwankungsfaktor
                                        aktuelleBewegung = +1;
                                }
                                else
                                {
                                        kapital -= kapital * RiskierterEinsatz * (0.8 + (Math.random()/2.5) ) / 100;
                                        aktuelleBewegung = -1;
                                }       
                                
                                // Zähle Gewinnserien
                                if (letzteBewegung == aktuelleBewegung) {
                                        if (aktuelleBewegung == +1) {
                                                GewinnSerie++;
                                        } else {
                                                VerlustSerie++;
                                        }                                       
                                        
                                        maxGewinnSerie = Math.max(maxGewinnSerie, GewinnSerie);
                                        maxVerlustSerie = Math.max(maxVerlustSerie, VerlustSerie);
                                } else {
                                        // Ende der Gewinnserie
                                        GewinnSerie = 0;
                                        VerlustSerie = 0;
                                }
                                letzteBewegung = aktuelleBewegung;
                                
                                // Wenn Kapital unter kritische Marke gefallen ist, ist diese Periode ein Totalausfall
                                if ( kapital <= ( Startkapital*(1-(totalausfallSchwelle/100)) ) )
                                {
                                        th2++;
                                        stopTrading = true;
                                }
                                                                
                                // Berechne Drawdown 
                                if (highWatermark < kapital ) highWatermark = kapital;
                                
                                drawDown = Math.max( drawDown, (1.0-(kapital/highWatermark)) );                         
                                
                        }
                        PeriodenDaten[j].push(kapital);
                        periodenDatenChart.push(kapital);
                                                
                                                
                }  // end of Perioden           

                PeriodenDatenChart.push(periodenDatenChart);
                
                Drawdowns.push(drawDown);
                Gewinnserien.push(maxGewinnSerie);
                Verlustserien.push(maxVerlustSerie);
                Performance.push( kapital/Startkapital -1);
                
                // ----------------------------------------
                // ----- Ende eines Simulationslaufes -----
                // ----------------------------------------
                                
        } // end of Iterationen
        
        // Setze Ergebnistabelle
        o = calcMinAvgMax(Performance)
        document.getElementById("MinPerf").innerHTML = formatNumber(o.min * 100)  + '%';
        document.getElementById("AvgPerf").innerHTML = formatNumber(o.avg * 100)  + '%';
        document.getElementById("MaxPerf").innerHTML = formatNumber(o.max * 100)  + '%';

        document.getElementById("TotalverlustRisiko").innerHTML = formatNumber(th2/(max_iterationen / 100)) + '%';
                
        o = calcMinAvgMax(Drawdowns)
        document.getElementById("MinDrawdown").innerHTML = formatNumber(o.min * 100)  + '%';
        document.getElementById("AvgDrawdown").innerHTML = formatNumber(o.avg * 100)  + '%';
        document.getElementById("MaxDrawdown").innerHTML = formatNumber(o.max * 100)  + '%';
        
        o = calcMinAvgMax(Gewinnserien)
        document.getElementById("MinGewinnserie").innerHTML = formatNumber(o.min);
        document.getElementById("AvgGewinnserie").innerHTML = formatNumber(o.avg);
        document.getElementById("MaxGewinnserie").innerHTML = formatNumber(o.max);
        o = calcMinAvgMax(Verlustserien)
        document.getElementById("MinVerlustserie").innerHTML = formatNumber(o.min);
        document.getElementById("AvgVerlustserie").innerHTML = formatNumber(o.avg);
        document.getElementById("MaxVerlustserie").innerHTML = formatNumber(o.max);
                
        // drawPortfolioDaten(PeriodenDaten, max_iterationen);
        drawPortfolioDaten2(PeriodenDatenChart, max_iterationen);       

}

function simulate(form) {
        document.body.style.cursor = "progress";
        
        document.getElementById("portfolioChart").innerHTML = "Rechne..."
        setTimeout(function() {
                PortfolioSimulation(form);
        }, 100);
        
        document.body.style.cursor = "default";
}

function validate(form) {
        var Startkapital                                = parseFloat(form.Startkapital.value, 10);
        if (Startkapital < 0 ) form.Startkapital.value = 0;
        
        var GewinnWahrscheinlichkeit    = parseFloat(form.GewinnWahrscheinlichkeit.value, 10);
        if (GewinnWahrscheinlichkeit < 0 ) form.GewinnWahrscheinlichkeit.value = 0;
        if (GewinnWahrscheinlichkeit > 100 ) form.GewinnWahrscheinlichkeit.value = 100;
        
        var GewinnVerlustRatio                  = parseFloat(form.GewinnVerlustRatio.value, 10);
        if (GewinnVerlustRatio < 0 ) form.GewinnVerlustRatio.value = 0;
        
        var periods                                             = parseFloat(form.Periods.value, 10);
        if (periods < 0 ) form.Periods.value = 0;
        if (periods > 1000 ) form.Periods.value = 1000;
        
        var RiskierterEinsatz                   = parseFloat(form.RiskierterEinsatz.value, 10);
        if (RiskierterEinsatz < 0 ) form.RiskierterEinsatz.value = 0;
        if (RiskierterEinsatz > 100 ) form.RiskierterEinsatz.value = 100;
        
        var totalausfallSchwelle                = parseFloat(form.TotalausfallSchwelle.value, 10);
        if (totalausfallSchwelle < 0 ) form.TotalausfallSchwelle.value = 0;
        if (totalausfallSchwelle > 100 ) form.TotalausfallSchwelle.value = 100;
        

}
//]]>
</script>
<form class="form-horizontal">
      <span style="font-size: 12px;">(The input parameters are derived from our model portfolio)</span>
    <table width="330px">
        <tr>
            <td width="80%"> Principal [BTC]: </td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="Startkapital" value="100" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>
            <td>Win rate [%]: </td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="GewinnWahrscheinlichkeit" value="59" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>
            <td> Risk-Reward ratio</td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="GewinnVerlustRatio" value="1.5" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>
            <td>Risk per trade [%]: </td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="RiskierterEinsatz" value="0.5" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>
            <td> Number of trades / year</td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="Periods" value="50" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>
            <td>Max Drawdown [%]: </td>
            <td>
                <div class="form-group">
                    <div class="input-group">
                        <input class="form-control" name="TotalausfallSchwelle" value="5" maxlength="15" size="5" onchange="validate(this.form)"/>
                    </div>
                </div>
            </td>
        </tr>

        <tr>

            <td colspan="2">
                  <input width="100%" class="form-control btn btn-primary" name="calc" value="Start simulation" type="button" onclick="simulate(this.form)"/>
            </td>
        </tr>
    </table>
</form>
<br/>
<br/>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js">
</script><script type="text/javascript">
//<![CDATA[
google.charts.load('current', {packages: ['corechart', 'line']});
//]]>
</script>
<div id="chart_drawdown">
</div>

<div id="chart_totalverlust">
</div>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js">
</script>
<div id="portfolioChartDiv" width="70%" height="60%">
    <canvas id="portfolioChart" width="80%" height="60%">
    </canvas>
</div>
<br/>
<br/>

<table class="mytable table">
    <tr class="mytable">
        <td colspan="2" class="mytable" style="background-color: rgba(37,101,155,0.62);"><strong>Results</strong></td>
    </tr>

    <tr class="mytable">
        <td colspan="2" class="mytable" style="background-color: rgba(46,122,184,0.40);">
            <strong>Performance</strong>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd">
            Minimal Performance
        </td>
        <td class="mytd" align="right">
            <span id="MinPerf"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Average Performance </td>
        <td class="mytd" align="right">
            <span id="AvgPerf"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Maximal Performance </td>
        <td class="mytd" align="right">
            <span id="MaxPerf"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td colspan="2" class="mytable" style="background-color: rgba(46,122,184,0.40);"><strong>Risk paramenters</strong></td>
    </tr>

    <tr class="mytable">
        <td class="mytd"><strong>Risk of max. drawdown</strong></td>
        <td class="mytd" align="right">
            <strong><span id="TotalverlustRisiko"></span></strong>
        </td>
    </tr>

   <!-- <tr class="mytable">
        <td colspan="2" class="mytable">
            <strong>Drawdowns</strong>
        </td>
    </tr>
-->
    <tr class="mytable">
        <td class="mytd"> Minimal Drawdown </td>
        <td class="mytd" align="right">
            <span id="MinDrawdown"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Average Drawdown </td>
        <td class="mytd" align="right">
            <span id="AvgDrawdown"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Maximal Drawdown </td>
        <td class="mytd" align="right">
            <span id="MaxDrawdown"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td colspan="2" class="mytable" style="background-color: rgba(46,122,184,0.40);"><strong>Other stats</strong></td>
    </tr>

    <tr class="mytable">
        <td colspan="2" class="mytable"><strong>Winning streaks</strong></td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Shortest winning streak</td>
        <td class="mytd" align="right">
            <span id="MinGewinnserie"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Average winning streak</td>
        <td class="mytd" align="right">
            <span id="AvgGewinnserie"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Longest winning streak</td>
        <td class="mytd" align="right">
            <span id="MaxGewinnserie"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td colspan="2" class="mytable"><strong>Losing streaks</strong></td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Shortest losing streak</td>
        <td class="mytd" align="right">
            <span id="MinVerlustserie"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Average losing streak</td>
        <td class="mytd" align="right">
            <span id="AvgVerlustserie"></span>
        </td>
    </tr>

    <tr class="mytable">
        <td class="mytd"> Longest losing streak</td>
        <td class="mytd" align="right">
            <span id="MaxVerlustserie"></span>
        </td>
    </tr>
</table></div>
</div>

</div>
</script></div></div>
        
        </div>
      </div>

      <!-- _section-aside.sass -->      <!-- / END _section-aside.sass -->
</div>
    <!-- / END _section-main.sass -->

    <!-- _footer.sass -->    <!-- / END _footer.sass -->
</div>
  <!-- / END _main.sass -->
</div>
</div>

</body>

</html>
